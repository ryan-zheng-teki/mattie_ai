<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ion Formation Visualizer</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div id="header">
        <h1>Ion Formation Visualizer <span class="science-icon">‚öõÔ∏è</span></h1>
        <p>Watch atoms gain or lose electrons to become stable ions!</p>
    </div>
    
    <div class="main-container">
        <div id="controls">
            <div class="control-group">
                <label for="element-select">Pick an Element:</label>
                <select id="element-select">
                    <option value="H">Hydrogen (H) üéà</option>
                    <option value="He">Helium (He) üéà</option>
                    <option value="Li">Lithium (Li) üîã</option>
                    <option value="Be">Beryllium (Be) üí°</option>
                    <option value="B">Boron (B) üéØ</option>
                    <option value="C">Carbon (C) üíé</option>
                    <option value="N">Nitrogen (N) üå±</option>
                    <option value="O">Oxygen (O) üí®</option>
                    <option value="F">Fluorine (F) ü¶∑</option>
                    <option value="Ne">Neon (Ne) üí°</option>
                    <option value="Na">Sodium (Na) üßÇ</option>
                    <option value="Mg">Magnesium (Mg) üí™</option>
                    <option value="Al">Aluminum (Al) ü•´</option>
                    <option value="Si">Silicon (Si) üíª</option>
                    <option value="P">Phosphorus (P) üî•</option>
                    <option value="S">Sulfur (S) ü•ö</option>
                    <option value="Cl">Chlorine (Cl) üèä</option>
                    <option value="Ar">Argon (Ar) üí°</option>
                    <option value="K">Potassium (K) üçå</option>
                    <option value="Ca">Calcium (Ca) ü•õ</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="speed-control">Electron Speed:</label>
                <input type="range" id="speed-control" min="0.002" max="1.0" step="0.001" value="0.1">
            </div>
            
            <button id="animate-button" class="primary-button">
                <i class="fas fa-play-circle"></i> Show Ionization
            </button>
        </div>
        
        <div class="tabs-container">
            <div class="tab active" data-tab="visualization">Atom View</div>
            <div class="tab" data-tab="guide">How It Works</div>
            <div class="tab" data-tab="learn">Fun Facts</div>
            <div class="tab" data-tab="quiz">Quiz</div>
        </div>
        
        <div class="tab-content active" id="visualization-tab">
            <div class="split-view">
                <div class="animation-container">
                    <div id="visualization-container">
                        <!-- Three.js canvas will be inserted here -->
                        <div id="temporary-labels"></div>
                        <div id="animation-narration"></div>
                        <div id="progress-indicator">
                            <div id="progress-bar-container">
                                <div id="progress-bar-fill"></div>
                            </div>
                            <div id="progress-text">Ionization in progress...</div>
                        </div>
                        <div class="animation-controls">
                            <button id="zoom-in" title="Zoom In">
                                <i class="fas fa-search-plus"></i>
                            </button>
                            <button id="zoom-out" title="Zoom Out">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <button id="fullscreen-button" title="Fullscreen">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="explanation-panel">
                    <div class="panel-section">
                        <h3>Element Info</h3>
                        <div id="element-info" class="info-box"></div>
                    </div>
                    
                    <div class="panel-section">
                        <h3>What's Happening</h3>
                        <div id="explanation-box"></div>
                    </div>
                    
                    <div class="panel-section">
                        <h3>Legend</h3>
                        <div class="legend-items">
                            <div class="legend-item">
                                <div class="icon nucleus-icon">‚óè</div>
                                <span>Nucleus</span>
                            </div>
                            <div class="legend-item">
                                <div class="icon electron-icon">‚Ä¢</div>
                                <span>Electron</span>
                            </div>
                            <div class="legend-item">
                                <div class="icon shell-icon">‚óØ</div>
                                <span>Electron Shell</span>
                            </div>
                            <div class="legend-item">
                                <div class="icon positive-icon">+</div>
                                <span>Positive Charge</span>
                            </div>
                            <div class="legend-item">
                                <div class="icon negative-icon">‚àí</div>
                                <span>Negative Charge</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h3>Shell Status</h3>
                        <div id="shell-status"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="guide-tab">
            <div class="guide-content">
                <h3>How Ions Form</h3>
                <div class="guide-grid">
                    <div class="guide-item">
                        <div class="guide-icon nucleus-icon"></div>
                        <div class="guide-text">
                            <h4>Nucleus</h4>
                            <p>The center of the atom that stays the same during ion formation. It contains protons (+) and neutrons.</p>
                        </div>
                    </div>
                    <div class="guide-item">
                        <div class="guide-icon shell-icon"></div>
                        <div class="guide-text">
                            <h4>Electron Shells</h4>
                            <p>Regions where electrons orbit. The outer shell is where electrons are gained or lost during ion formation.</p>
                        </div>
                    </div>
                    <div class="guide-item">
                        <div class="guide-icon electron-icon"></div>
                        <div class="guide-text">
                            <h4>Electrons</h4>
                            <p>When atoms gain or lose electrons, they become ions with a negative or positive charge.</p>
                        </div>
                    </div>
                    <div class="guide-item">
                        <div class="guide-icon positive-icon"></div>
                        <div class="guide-text">
                            <h4>Cations (+)</h4>
                            <p>When an atom loses electrons, it has more protons than electrons, creating a positive charge.</p>
                        </div>
                    </div>
                    <div class="guide-item">
                        <div class="guide-icon negative-icon"></div>
                        <div class="guide-text">
                            <h4>Anions (-)</h4>
                            <p>When an atom gains electrons, it has more electrons than protons, creating a negative charge.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="learn-tab">
            <div class="learn-content">
                <h3>Fun Facts About Ions</h3>
                <div class="fun-fact">
                    <i class="fas fa-bolt fact-icon"></i>
                    <p>The word "ion" comes from the Greek word meaning "to go," because ions move toward oppositely charged electrodes.</p>
                </div>
                <div class="fun-fact">
                    <i class="fas fa-plus-circle fact-icon"></i>
                    <p><strong>Cations</strong> (positive ions) are usually formed by metals. They've lost electrons, making them smaller than their neutral atoms!</p>
                </div>
                <div class="fun-fact">
                    <i class="fas fa-minus-circle fact-icon"></i>
                    <p><strong>Anions</strong> (negative ions) are usually formed by non-metals. They've gained electrons, making them larger than their neutral atoms!</p>
                </div>
                <div class="fun-fact">
                    <i class="fas fa-heart fact-icon"></i>
                    <p>Your body uses many ions like Na+, K+, Ca2+, and Cl- for nerve signals, muscle movement, and heart beating!</p>
                </div>
                <div class="fun-fact">
                    <i class="fas fa-utensils fact-icon"></i>
                    <p>Table salt (NaCl) is made from Na+ and Cl- ions attracted to each other. Most ionic compounds form when metals and non-metals exchange electrons!</p>
                </div>
                <div class="fun-fact">
                    <i class="fas fa-tint fact-icon"></i>
                    <p>Ions in water can conduct electricity! That's why pure water doesn't conduct electricity well, but salt water does!</p>
                </div>
                <div class="fun-fact">
                    <i class="fas fa-sun fact-icon"></i>
                    <p>The Northern Lights (Aurora Borealis) happen when the Sun sends charged particles (ions) that collide with Earth's atmosphere!</p>
                </div>
            </div>
        </div>
        
        <div class="tab-content" id="quiz-tab">
            <div class="quiz-container">
                <h3>Test Your Knowledge!</h3>
                <div id="quiz-question"></div>
                <div id="quiz-options"></div>
                <div id="quiz-feedback"></div>
                <button id="next-question" class="primary-button">Next Question</button>
            </div>
        </div>
    </div>

    <!-- Import Three.js and Tween.js -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
                "tween": "https://unpkg.com/@tweenjs/tween.js@23.1.1/dist/tween.esm.js"
            }
        }
    </script>

    <!-- Application scripts -->
    <script type="module" src="js/elements-data.js"></script>
    <script type="module" src="js/ui.js"></script>
    <script type="module" src="js/visualization.js"></script>
    <script type="module" src="js/animation.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>
